<div class="selector-container">
  <mat-card class="gm-card" *ngIf="!GMloading && role=='admin'">
    <mat-card-title>{{ "GAMIFICATION.TITLE" | translate }}</mat-card-title>
    <mat-card-content>
      <p>
        {{ "GAMIFICATION.GAMIFICATION_STATUS" | translate }}
        <mat-icon *ngIf="gamified">check</mat-icon>
        <mat-icon *ngIf="!gamified">close</mat-icon>
      </p>
      <p>
        {{ "GAMIFICATION.GM_CONNECTION_STATUS" | translate }}
        <mat-icon *ngIf="connected">check</mat-icon>
        <mat-icon *ngIf="!connected">close</mat-icon>
      </p>
    </mat-card-content>
    <mat-card-actions>
      <button
        mat-button
        color="accent"
        (click)="gamify()"
        [disabled]="gamified"
      >
        {{ "GAMIFICATION.GAMIFY" | translate }}
      </button>
    </mat-card-actions>
  </mat-card>
  <div fxLayout="row wrap" fxLayoutGap="16px grid" class="adventure-grid" *ngIf="!adventuresLoading">
    <div
      fxFlex="20%"
      fxFlex.xs="100%"
      fxFlex.sm="33%"
      *ngFor="let adventure of adventures"
    >
      <mat-card class="mat-elevation-z4">
        <img
          class="adventure-img"
          *ngIf="adventure.image"
          mat-card-image
          src="{{ adventure.image }}"
          alt="Adventure image"
        />
        <img
          class="adventure-img"
          *ngIf="!adventure.image"
          mat-card-image
          src="assets/images/placeholder.png"
          alt="Adventure image"
        />
        <mat-card-title>{{ adventure.name }}</mat-card-title>
        <mat-card-content>
          <p class="description-wrap">
            {{ adventure.description }}
          </p>
        </mat-card-content>
        <mat-card-actions>
          <button mat-button (click)="play(adventure)">
            {{ "SELECTOR.CARD_PLAY" | translate }}
          </button>
          <button
            mat-button
            (click)="edit(adventure)"
            *ngIf="role == 'admin' || role == 'creator'"
          >
            {{ "SELECTOR.CARD_EDIT" | translate }}
          </button>
          <button
            mat-button
            (click)="deleteAdventure(adventure)"
            *ngIf="role == 'admin' || role == 'creator'"
          >
            {{ "SELECTOR.CARD_DELETE" | translate }}
          </button>
        </mat-card-actions>
      </mat-card>
    </div>
  </div>
  <div class="button-panel">
    <button
      class="new-node-btn"
      mat-fab
      color="accent"
      (click)="showNewAdventureDialog()"
      *ngIf="role == 'admin' || role == 'creator'"
    >
      <mat-icon>add</mat-icon>
    </button>
  </div>
</div>
